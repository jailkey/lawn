@import "../config";

[is="row"] {
	display: -ms-flexbox;
	display: flex;
	font-size: 0;
	@include flex-direction(row);
	flex-wrap: wrap;
	justify-content: space-around;
	width: 100%;
	position: relative;
	overflow: visible;
}

[is="column"]{
	font-size: $standard-font-size;
	display: -ms-inline-flexbox;
	display: inline-block;
	box-sizing: border-box;
	overflow: hidden;
	position: relative;
	overflow: visible;
	@include flex-grow(1);
	@if $grind-default-spacing == between {
		padding-right: pxToRem($grid-space-between / 3);
		padding-left: pxToRem($grid-space-between / 3);
	}
}

[is="item"]{
	font-size: $standard-font-size;
	display: block;
	box-sizing: border-box;
	overflow: hidden;
	position: relative;
	overflow: visible;
	width: 100%;
	@if $grind-default-spacing == between {
		padding-right: pxToRem($grid-space-between / 3);
		padding-left: pxToRem($grid-space-between / 3);
	}
}


[is="row"][has="no-grow"] [is="column"]{
	flex-grow: 0;
}

@if $grind-default-spacing == between {
	[is="column"]:first-child{
		padding-left: 0;
		padding-right: pxToRem($grid-space-between / 2);
	}

	[is="column"]:last-child{
		padding-right: 0;
		padding-left: pxToRem($grid-space-between / 2);
	}
	//remove spaces in last row
	[is="row"][has~="2-columns"] > [is="column"]:nth-child(2n),
	[is="row"][has~="3-columns"] > [is="column"]:nth-child(3n),
	[is="row"][has~="4-columns"] > [is="column"]:nth-child(4n),
	[is="row"][has~="5-columns"] > [is="column"]:nth-child(5n),
	[is="row"][has~="6-columns"] > [is="column"]:nth-child(6n),
	[is="row"][has~="7-columns"] > [is="column"]:nth-child(7n),
	[is="row"][has~="8-columns"] > [is="column"]:nth-child(8n),
	[is="row"][has~="9-columns"] > [is="column"]:nth-child(9n),
	[is="row"][has~="10-columns"] > [is="column"]:nth-child(10n),
	[is="row"][has~="11-columns"] > [is="column"]:nth-child(11n),
	[is="row"][has~="12-columns"] > [is="column"]:nth-child(12n){
		padding-left: pxToRem($grid-space-between / 2);
		padding-right:0;
	}
}

@if $grind-default-spacing == evently {
	[is="row"] > [is="column"]:first-child,
	[is="row"] > [is="column"]:last-child,
	[is="row"] > [is="column"] {
		padding: $grid-space-evently;
	}

}


//generate column width
@for $i from 1 through 12 {
	//generate standard column with
	[is="row"]:not([has*="-columns"]) > [is="column"]:first-child:nth-last-child(#{$i}),
	[is="row"]:not([has*="-columns"]) > [is="column"]:first-child:nth-last-child(#{$i}) ~ [is="column"]{
		width: 100% / $i;
	}

	//special column with
	[is="row"][has~="#{$i}-columns"] > [is="column"] { 
		flex-basis: 100% / $i;
		width: 100% / $i;
	}

	@for $y from 1 through $i { 
		[is="row"][has~="#{$i}-columns"] > [is="column"][has~="#{$y}-columns-width"] { 
			flex-basis: (100% / $i) * $y;
			width: (100% / $i) * $y;
		}
		[is="row"][has~="#{$i}-columns"] > [is="column"][has~="#{$y}-columns-margin"] { 
			margin-left: (100% / $i) * $y;
		}
	 }
}

[is="row"][has~="no-spacing"] [is="column"]:first-child,
[is="row"][has~="no-spacing"] [is="column"]:last-child,
[is="row"][has~="no-spacing"] [is="column"],
[is="row"][has~="no-spacing"] [is="item"]:first-child,
[is="row"][has~="no-spacing"] [is="item"]:last-child,
[is="row"][has~="no-spacing"] [is="item"]{
	padding: 0;
}

[is="row"][has~="evently-spacing"] > [is="column"]:first-child,
[is="row"][has~="evently-spacing"] > [is="column"]:last-child,
[is="row"][has~="evently-spacing"] > [is="column"]{
	padding: $grid-space-evently;
}

[is="row"][has~="between-spacing"] > [is="column"] {
	padding-left: pxToRem($grid-space-between / 3);
	padding-right: pxToRem($grid-space-between / 3);
}

[is="row"][has~="between-spacing"] > [is="column"]:first-child{
	padding-left: 0;
	padding-right: pxToRem($grid-space-between / 2);
}

[is="row"][has~="between-spacing"] > [is="column"]:last-child{
	padding-right: 0;
	padding-left: pxToRem($grid-space-between / 2);
}


[is="row"][has~="seperator"] > [is="column"]:first-child,
[is="row"][has~="seperator"] > [is="column"],
[is="row"][has~="seperator"] > [is="item"]:first-child,
[is="row"][has~="seperator"] > [is="item"]{
	border-right: pxToRem($grid-seperator-width) $grid-seperator-color solid;
}

[is="row"][has~="seperator"] > [is="column"]:last-child{
	border-right: none;
}

[is="row"][has~="no-spacing"] [is="column"][has*="icon-"]:first-child,
[is="row"][has~="no-spacing"] [is="column"][has*="icon-"],
[is="row"][has~="no-spacing"] [is="column"][has*="icon-"]:last-child,
[is="row"][has~="no-spacing"] [is="item"][has*="icon-"]:first-child,
[is="row"][has~="no-spacing"] [is="item"][has*="icon-"],
[is="row"][has~="no-spacing"] [is="item"][has*="icon-"]:last-child,
[is="row"][has*="icon-"],
[is="column"][has*="icon-"],
[is="item"][has*="icon-"]{
	padding-left: pxToRem($standard-icon-size + ($icon-spacing * 2));
}

[is="row"][has*="icon-"]:before,
[is="column"][has*="icon-"]:before,
[is="item"][has*="icon-"]:before{
	position: absolute;
	left: $icon-spacing;
	top: $icon-spacing;
}

//special form icon spacing
form [is="row"][has*="icon-"]:before,
form [is="column"][has*="icon-"]:before,
form [is="item"][has*="icon-"]:before{
	top: $label-font-size + $icon-spacing;
	color: $input-icon-color;
}





